{% extends "base.html" %}
{% block title %}SecureShield | Reveal Secret{% endblock %}
{% block content %}
<section class="hero">
    <p class="eyebrow">Receiver access</p>
    <h1>Unlock Shared Content</h1>
    <p class="lead">
        Enter the 6-digit code shared by sender. You must have both URL and code.
    </p>
</section>

<section class="panel">
    <label for="access-code">6-digit access code</label>
    <input id="access-code" type="text" maxlength="6" inputmode="numeric" placeholder="123456">
    <div class="actions">
        <button id="unlock-btn" type="button">Unlock Content</button>
    </div>
    <p id="reveal-status" class="status"></p>

    <div id="secret-output-wrap" class="hidden" data-secret-id="{{ secret_id }}">
        <div id="text-result" class="hidden">
            <label for="secret-output">Decrypted text</label>
            <textarea id="secret-output" readonly></textarea>
            <div class="actions">
                <button id="copy-secret-btn" type="button">Copy Text</button>
            </div>
        </div>

        <div id="file-result" class="hidden">
            <p class="note">Decrypted media preview:</p>
            <img id="image-preview" class="hidden media-preview" alt="Decrypted image preview">
            <video id="video-preview" class="hidden media-preview" controls></video>
            <div class="actions">
                <a id="download-file-btn" class="button-link" download>Download File</a>
            </div>
        </div>

        <div class="actions">
            <button id="clear-content-btn" type="button">Clear from Screen</button>
        </div>
    </div>
</section>

<script src="{{ url_for('static', filename='js/reveal.js') }}" defer></script>
{% endblock %}

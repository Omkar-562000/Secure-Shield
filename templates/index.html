{% extends "base.html" %}
{% block title %}SecureShield | One-time Secret Sharing{% endblock %}
{% block content %}
<section class="hero">
    <p class="eyebrow">Client-side encrypted + protected by code</p>
    <h1>Share text, photos, and videos safely.</h1>
    <p class="lead">
        Content is encrypted in your browser before upload. The receiver needs both the secure URL and a generated
        6-digit access code to reveal content.
    </p>
</section>

<section class="panel">
    <h2>Create Secure Share</h2>
    <form id="create-secret-form" class="form-grid">
        <label for="content-kind">Content type</label>
        <select id="content-kind">
            <option value="text" selected>Text / Credentials</option>
            <option value="file">Photo / Video</option>
        </select>

        <div id="text-wrap">
            <label for="secret-text">Secret text</label>
            <textarea id="secret-text" maxlength="5000" placeholder="Paste password, API key, or secure note..."></textarea>
        </div>

        <div id="file-wrap" class="hidden">
            <label for="secret-file">Photo / Video file</label>
            <input id="secret-file" type="file" accept="image/*,video/*">
            <div id="drop-zone" class="drop-zone">
                Drag and drop photo/video here (max {{ max_upload_mb }} MB)
            </div>
            <p id="file-meta" class="note"></p>
        </div>

        <label for="expires-minutes">Expires in</label>
        <select id="expires-minutes">
            <option value="30">30 minutes</option>
            <option value="60" selected>1 hour</option>
            <option value="240">4 hours</option>
            <option value="1440">1 day</option>
            <option value="10080">7 days</option>
        </select>

        <label for="max-views">Maximum views</label>
        <select id="max-views">
            <option value="1" selected>1 view (recommended)</option>
            <option value="2">2 views</option>
            <option value="3">3 views</option>
        </select>

        <button id="create-btn" type="submit">Create Secure Link</button>
    </form>
    <p id="status" class="status"></p>
</section>

<section id="result-panel" class="panel hidden">
    <h2>Secure Link Ready</h2>
    <label for="share-url">Share this link</label>
    <textarea id="share-url" readonly></textarea>
    <label for="share-code">6-digit access code</label>
    <input id="share-code" readonly>
    <div class="actions">
        <button id="copy-link-btn" type="button">Copy Link</button>
        <button id="copy-code-btn" type="button">Copy Code</button>
    </div>
    <p class="note">
        Send the URL and the code through different channels for stronger security.
    </p>
</section>

<script src="{{ url_for('static', filename='js/create.js') }}" defer></script>
{% endblock %}
